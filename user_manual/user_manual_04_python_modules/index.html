
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="http://c2sm.github.io/extpar/user_manual/user_manual_04_python_modules/">
      
      
        <link rel="prev" href="../user_manual_03_fortran_modules/">
      
      
        <link rel="next" href="../user_manual_05_current_limitations/">
      
      
      <link rel="icon" href="../../assets/favicons/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Python Modules - EXTPAR</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="extpar-light" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#Python" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="EXTPAR" class="md-header__button md-logo" aria-label="EXTPAR" data-md-component="logo">
      
  <img src="../../assets/images/c2sm_logo_white_transparent.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EXTPAR
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Python Modules
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="extpar-light" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/C2SM/extpar" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    C2SM/extpar
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../compile_run/" class="md-tabs__link">
        
  
  
    
  
  Compile and Run

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../dependencies/" class="md-tabs__link">
        
  
  
    
  
  Dependencies

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../testing/" class="md-tabs__link">
        
  
  
    
  
  Testing

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../development/" class="md-tabs__link">
        
  
  
    
  
  Development

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../release_notes/" class="md-tabs__link">
        
  
  
    
  
  Release Notes

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../zonda/" class="md-tabs__link">
        
  
  
    
  
  Zonda

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  User Guide

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="EXTPAR" class="md-nav__button md-logo" aria-label="EXTPAR" data-md-component="logo">
      
  <img src="../../assets/images/c2sm_logo_white_transparent.png" alt="logo">

    </a>
    EXTPAR
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/C2SM/extpar" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    C2SM/extpar
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../compile_run/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compile and Run
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dependencies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dependencies
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Testing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release_notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release Notes
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../zonda/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Zonda
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_manual_01_overall_description/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overall Description
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_manual_02_software_modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Software Modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_manual_03_fortran_modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fortran Modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Python Modules
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Python Modules
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#General" class="md-nav__link">
    <span class="md-ellipsis">
      General Workflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_alb_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_alb_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_cru_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_cru_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_emiss_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_emiss_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_ndvi_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_ndvi_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_era_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_era_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_isa_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_isa_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_ahf_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_ahf_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_edgar_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_edgar_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_cdnc_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_cdnc_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_aot_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_aot_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_art_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_art_to_buffer
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_manual_05_current_limitations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Current Limitations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_manual_06_namelist_input/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Namelist Input
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#General" class="md-nav__link">
    <span class="md-ellipsis">
      General Workflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_alb_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_alb_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_cru_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_cru_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_emiss_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_emiss_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_ndvi_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_ndvi_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_era_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_era_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_isa_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_isa_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_ahf_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_ahf_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_edgar_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_edgar_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_cdnc_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_cdnc_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_aot_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_aot_to_buffer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extpar_art_to_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      extpar_art_to_buffer
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/C2SM/extpar/edit/master/docs/user_manual/user_manual_04_python_modules.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="Python" modules="modules">Python Modules<a class="headerlink" href="#Python" title="Permanent link">&para;</a></h1>
<h2 id="General" workflow="workflow">General Workflow<a class="headerlink" href="#General" title="Permanent link">&para;</a></h2>
<p>The general workflow of all Python modules is the same. An exemplary
workflow of the Python modules is described below:</p>
<p>At the beginning of the program information about the environment on
which EXTPAR is running is written to the logfile and all left-overs
from prior executions of the same EXTPAR module are deleted. In a next
step each parameter from the namelist <code>namelist.py</code> is checked for
correctness as well as assigned to an internal variable for later use in
the program. The specifaction about the target grid is directly read
from the Fortan namelist-files <code>INPUT_grid_org</code>. The next step in the
modules involves the generation of all necessary meta-data for the
buffer files and the write of a namelist files in the style of a Fortran
namelist, containing all information needed for the consistency_check
at the end. In case of a COSMO target grid, a grid specification file is
written, that is later used by CDO for the interpolation.</p>
<p>After this is all setup, the most compute-intensive parts like the
remapping to the target grid or data modifications are done using CDO.
The Python program launches a subshell executing the CDO in it. The
output from CDO is reshaped in order to fit the dimensions of the buffer
files. After the reshape, the fields and its corresponding metadata is
written to a netCDF buffer file. The last step of the programme again
deletes all intermediate netCDF or other files written during runtime,
that do not serve any purpose.</p>
<p>Module-specific modifications or additional computations are described
in the paragraph <em>Data processing</em> of each Python module.</p>
<h3 id="namelist">Namelist<a class="headerlink" href="#namelist" title="Permanent link">&para;</a></h3>
<p>The namelist <code>namelist.py</code> contains the Python dictionaries
<code>input_alb</code>, <code>input_tclim</code>, <code>input_emiss</code>, <code>input_ndvi</code>,
<code>input_ahf</code>, <code>input_isa</code>, <code>input_art</code>, <code>input_aot</code> and <code>input_edgar</code>. These dictionaries
replace their corresponding Fortran namelist files <code>INPUT_</code>.</p>
<p><code>input_alb</code> provides information about the albedo data type and the
paths and filenames of the input/output data.</p>
<p><code>input_tclim</code> contains a switch to determine the type of data (coarse
or fine) as well as the paths and filenames of the input/output data.</p>
<p><code>input_emiss</code> contains a switch to determine the type of emissivity
data (full range or long-wave) and the filename and paths of the
input/output data.</p>
<p><code>input_ndvi</code> only provides information about the the path and the
filenames of the input/output data.</p>
<p><code>input_era</code> only provides information about the the path and the
filenames of the input/output data.</p>
<p><code>input_isa</code> contains a switch determine the type of ISA data and
provides information about the the path and the filenames of the
input/output data.</p>
<p><code>input_ahf</code> contains a switch determine the type of AHF data and
provides information about the the path and the filenames of the
input/output data.</p>
<p><code>input_edgar</code> only provides information about the the path and the
filenames of the input/output data.</p>
<p><code>input_aot</code> contains a switch to select the type of AOT data and
provides information about the path and the filenames of the input/output
data.</p>
<p><code>input_art</code> only provides information about the the path and the
filenames of the input/output data.</p>
<h2 id="extpar_alb_to_buffer">extpar_alb_to_buffer<a class="headerlink" href="#extpar_alb_to_buffer" title="Permanent link">&para;</a></h2>
<hr />
<h3 id="short-description-of-the-subprogram-extpar_alb_to_buffer">Short description of the subprogram <em>extpar_alb_to_buffer</em><a class="headerlink" href="#short-description-of-the-subprogram-extpar_alb_to_buffer" title="Permanent link">&para;</a></h3>
<p>The executable <em>extpar_alb_to_buffer</em> allows the aggregation of two
different kinds of albedo data to the target grid. The first kind is a
climatology of monthly values of total albedo derived from MODIS
satellite data for the 3 spectral bands visible, near infrared and
ultraviolet. The second kind contains information for soil albedo only
in dry and saturated conditions. It originates from the Community Land
Model<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>.</p>
<h4 id="data-processing">Data processing<a class="headerlink" href="#data-processing" title="Permanent link">&para;</a></h4>
<p>The data is remapped to the target grid using the <em>distance-weighted
average</em> interpolation. CDO first generates the weights for the
interpolation from one of the input files and then applies these weights
to all input files. After the interpolation took place, all values in
the range of -100000 - 0.02 are set to 0.02 to prevent unrealistic
data-points. All other steps in extpar_alb_to_buffer are following
the general workflow of the Python scrips.</p>
<h3 id="used-namelist-files-and-data-in-output">Used namelist files and data in-/output<a class="headerlink" href="#used-namelist-files-and-data-in-output" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>namelist files: namelist.py (dict: input_alb), INPUT_grid_org,
    INPUT_COSMO_GRID,
    INPUT_ICON_GRID</p>
</li>
<li>
<p>generate namelist: INPUT_ALB</p>
</li>
<li>
<p>data input: month_alb.nc, month_alnid.nc, month_aluvd.nc,
    global_soil_albedo.nc</p>
</li>
<li>
<p>data output: buffer file with albedo data (input_alb:
    alb_buffer_file)</p>
</li>
</ul>
<h2 id="extpar_cru_to_buffer">extpar_cru_to_buffer<a class="headerlink" href="#extpar_cru_to_buffer" title="Permanent link">&para;</a></h2>
<h3 id="short-description-of-the-subprogram-extpar_cru_to_buffer">Short description of the subprogram <em>extpar_cru_to_buffer</em><a class="headerlink" href="#short-description-of-the-subprogram-extpar_cru_to_buffer" title="Permanent link">&para;</a></h3>
<p>The executable <em>extpar_cru_to_buffer</em> aggregates the temperature
climatology of the Climate Research Unit (CRU) to the target grid. The
namelist <code>namelist.py</code> gives the information of the path and the name of
the raw temperature climatology data file. Additionally, the filename
for the buffer is provided. There is an integer switch (it_cl_type),
which allows the choice between a newer higher resolved data set for
land surfaces only (1) and an older coarser raw data set for sea
surfaces in combination with the higher resolved data set over land (2).
Aggregation of the coarse data set over land surfaces is no longer
supported since EXTPAR Version 5.4.</p>
<h4 id="data-processing_1">Data processing<a class="headerlink" href="#data-processing_1" title="Permanent link">&para;</a></h4>
<p>The data processing with CDO for it_cl_type = 1 involves 4 steps:</p>
<ol>
<li>
<p>Set seapoints in the data to missing value.</p>
</li>
<li>
<p>Extract the fields <code>HSURF</code> from the fine data set.</p>
</li>
<li>
<p>Merge the fields from step 1 and step 2.</p>
</li>
<li>
<p>Remap data from step 3 to the target grid using <em>distance-weighted
    average</em> interpolation.</p>
</li>
</ol>
<p>The data processing with CDO for it_cl_type = 2 involves 5 steps:</p>
<ol>
<li>
<p>Convert coarse data from Celsius to Kelvin, calculate yearly mean
    values and remap coarse data to the grid of the higher resolved data
    set.</p>
</li>
<li>
<p>Take landpoints from the fine data set and the seapoints from the
    data processed in step 1.</p>
</li>
<li>
<p>Extract surface height from the buffer file of
    <em>extpar_topo_to_buffer</em></p>
</li>
<li>
<p>Smooth data processed in step 2 and remap to target grid using
    <em>distance-weighted average</em> interpolation.</p>
</li>
<li>
<p>Correct data processed in step 4 with the surface height extracted
    in step 3.</p>
</li>
</ol>
<p>All subsequent processing on the data follows the general workflow of
the Python scripts.</p>
<h3 id="used-namelist-files-and-data-in-output_1">Used namelist files and data in-/output:<a class="headerlink" href="#used-namelist-files-and-data-in-output_1" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>namelists files: namelist.py (dict: input_tclim), INPUT_grid_org,
    INPUT_COSMO_GRID,
    INPUT_ICON_GRID</p>
</li>
<li>
<p>generate namelist: INPUT_TCLIM</p>
</li>
<li>
<p>data input: absolute_hadcrut3.nc, CRU_T2M_SURF_clim.nc,
    CRU_T_SOIL_clim.nc,
    orography_buffer_file (it_cl_type = 2 only)</p>
</li>
<li>
<p>Output: buffer file with CRU data (input_tclim:
    t_clim_buffer_file)</p>
</li>
</ul>
<h2 id="extpar_emiss_to_buffer">extpar_emiss_to_buffer<a class="headerlink" href="#extpar_emiss_to_buffer" title="Permanent link">&para;</a></h2>
<h3 id="short-description-of-the-subprogram-extpar_emiss_to_buffer">Short description of the subprogram <em>extpar_emiss_to_buffer</em><a class="headerlink" href="#short-description-of-the-subprogram-extpar_emiss_to_buffer" title="Permanent link">&para;</a></h3>
<p>The executable <em>extpar_emiss_to_buffer</em> aggregates CAMEL (Combined
ASTER and MODIS Emissivity for Land) data to the target grid. For the
aggregation of the emissivity the namelist <code>namelist.py</code> provides the
path and the file name of the input data. The buffer file name is
defined as well. There exists the integer switch (iemiss_type) to
determine whether one wants to use the broad band emissivity for the 3.6
and 14.3 micron spectral range (1) or the broad band emissivity between
8.0 and 13.5 micron spectral range (2).</p>
<h4 id="data-processing_2">Data processing<a class="headerlink" href="#data-processing_2" title="Permanent link">&para;</a></h4>
<p>After the generation of the interpolation weights artificial low values
below 0.5 are set to -999. In a subsequent processing step -999 is set
to the value for missing data. In order to not have missing data in the
field to interpolate, all missing values are set to the values of its
nearest neighbour. The last step involves the <em>first order conservative</em>
interpolation to the target grid. After the remapping with CDO two
additional fields are computed:</p>
<ul>
<li>
<p>EMISS_MAX, the maximum EMISS value over 12 months</p>
</li>
<li>
<p>EMISS_MRAT, the monthly ratio with respect to the maximum EMISS</p>
</li>
</ul>
<h3 id="used-namelist-files-and-data-in-output_2">Used namelist files and data in-/output:<a class="headerlink" href="#used-namelist-files-and-data-in-output_2" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>namelists files: namelist.py (dict: input_emiss) INPUT_grid_org,
    INPUT_COSMO_GRID,
    INPUT_ICON_GRID</p>
</li>
<li>
<p>generate namelist: INPUT_EMISS</p>
</li>
<li>
<p>data input: CAM_bbe_full_2010-2015ṅc or CAM_bbe_lw_2010-2015ṅc</p>
</li>
<li>
<p>Output: buffer file with CAMEL data (input_emiss:
    emiss_buffer_file)</p>
</li>
</ul>
<h2 id="extpar_ndvi_to_buffer">extpar_ndvi_to_buffer<a class="headerlink" href="#extpar_ndvi_to_buffer" title="Permanent link">&para;</a></h2>
<h3 id="short-description-of-the-subprogram-extpar_ndvi_to_buffer">Short description of the subprogram <em>extpar_ndvi_to_buffer</em><a class="headerlink" href="#short-description-of-the-subprogram-extpar_ndvi_to_buffer" title="Permanent link">&para;</a></h3>
<p>The executable <em>extpar_ndvi_to_buffer</em> aggregates NDVI data
(Normalized Differential Vegetation Index) to the target grid. The
namelist <code>namelist.py</code> only contains the path and the file name of the
raw NDVI data. No other parameters can be set.</p>
<p>For the aggregation of the normalized differential vegetation index the
namelist <code>namelist.py</code> is simple. It contains the path and the filename
of the raw data set, as well as the names of the buffer. No other
parameters can be set.</p>
<h4 id="data-processing_3">Data processing<a class="headerlink" href="#data-processing_3" title="Permanent link">&para;</a></h4>
<p>The remapping to the target grid uses the <em>first order conservative</em>
interpolation. After the remapping with CDO two additional fields are
computed:</p>
<ul>
<li>
<p>NDVI_MAX, the maximum NDVI value over 12 months</p>
</li>
<li>
<p>NDVI_MRAT, the monthly ratio with respect to the maximum NDVI</p>
</li>
</ul>
<h3 id="used-namelist-files-and-data-in-output_3">Used namelist files and data in-/output:<a class="headerlink" href="#used-namelist-files-and-data-in-output_3" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>namelists files: namelist.py (dict: input_ndvi), INPUT_grid_org,
    INPUT_COSMO_GRID,
    INPUT_ICON_GRID</p>
</li>
<li>
<p>generate namelist: INPUT_NDVI</p>
</li>
<li>
<p>data input: NDVI_1998_2003.nc</p>
</li>
<li>
<p>Output: buffer file with NDVI data (input_ndvi: ndvi_buffer_file)</p>
</li>
</ul>
<h2 id="extpar_era_to_buffer">extpar_era_to_buffer<a class="headerlink" href="#extpar_era_to_buffer" title="Permanent link">&para;</a></h2>
<h3 id="short-description-of-the-subprogram-extpar_era_to_buffer">Short description of the subprogram <em>extpar_era_to_buffer</em><a class="headerlink" href="#short-description-of-the-subprogram-extpar_era_to_buffer" title="Permanent link">&para;</a></h3>
<p>The executable <em>extpar_era_to_buffer</em> aggregates ERA data (T2M, SST,
W_SNOW and ORO) to the target grid. It replaces the two NetCDF-Files
generated by ICON-REMAP at DWD. Note that this executable is for
Icon-grids only.</p>
<p>For the aggregation of the ERA climatologies the namelist <code>namelist.py</code>
is simple again. It contains the type of ERA climatology (ERA5 (1) or
ERA-I (2)) the path and the filenames of the raw data sets, as well as
the names of the buffer. No other parameters can be set.</p>
<h4 id="data-processing_4">Data processing<a class="headerlink" href="#data-processing_4" title="Permanent link">&para;</a></h4>
<p>The remapping to the target grid uses the <em>first order conservative</em>
interpolation. After the remapping with CDO the field <em>W_SNOW</em> is
scaled by a factor 1000. No other processing steps take place.</p>
<h3 id="used-namelist-files-and-data-in-output_4">Used namelist files and data in-/output:<a class="headerlink" href="#used-namelist-files-and-data-in-output_4" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>namelists files: namelist.py (dict: input_era), INPUT_grid_org,
    INPUT_COSMO_GRID,
    INPUT_ICON_GRID</p>
</li>
<li>
<p>generate namelist: INPUT_ERA</p>
</li>
<li>
<p>data input: ERA5_ORO_1990.nc, ERA5_SD_1990_2019.nc,
    ERA5_SST_1990_2019.nc and ERA5_T2M_1990_2019.nc
    ERA-I_ORO_1986.nc, ERA-I_SD_1986_2015.nc,
    ERA-I_SST_1986_2015.nc and ERA-I_T2M_1986_2015</p>
</li>
<li>
<p>Output: buffer file with ERA data (input_era: era_buffer_file)</p>
</li>
</ul>
<h2 id="extpar_isa_to_buffer">extpar_isa_to_buffer<a class="headerlink" href="#extpar_isa_to_buffer" title="Permanent link">&para;</a></h2>
<h3 id="short-description-of-the-subprogram-extpar_isa_to_buffer">Short description of the subprogram <em>extpar_isa_to_buffer</em><a class="headerlink" href="#short-description-of-the-subprogram-extpar_isa_to_buffer" title="Permanent link">&para;</a></h3>
<p>The executable <em>extpar_isa_to_buffer</em> allows the aggregation or
interpolation of data on the fraction of impervious surface area needed
by TERRA_URB to the target grid.</p>
<p>For the aggregation of the ISA the namelist <code>namelist.py</code> is simple
again. It contains the type of ISA (NOAA (1) or EEA (2)) the path and
the filenames of the raw data sets, as well as the names of the buffer.
No other parameters can be set. Note that the underlying processing does
not differ between different types of ISA</p>
<p>The remapping to the target grid uses the <em>bilinear</em> interpolation. No
other processing steps take place.</p>
<h3 id="used-namelist-files-and-data-in-output_5">Used namelist files and data in-/output:<a class="headerlink" href="#used-namelist-files-and-data-in-output_5" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>namelists files: namelist.py (dict: input_isa), INPUT_grid_org,
    INPUT_COSMO_GRID,
    INPUT_ICON_GRID</p>
</li>
<li>
<p>generate namelist: INPUT_ISA</p>
</li>
<li>
<p>data input: EEA_ISA_16bit_lonlat.nc( isa_type=2),
    NOAA_ISA_16bit_lonlat.nc (isa_type=1)</p>
</li>
<li>
<p>Output: buffer file with ISA data (input_isa: isa_buffer_file)</p>
</li>
</ul>
<h2 id="extpar_ahf_to_buffer">extpar_ahf_to_buffer<a class="headerlink" href="#extpar_ahf_to_buffer" title="Permanent link">&para;</a></h2>
<h3 id="short-description-of-the-subprogram-extpar_ahf_to_buffer">Short description of the subprogram <em>extpar_ahf_to_buffer</em><a class="headerlink" href="#short-description-of-the-subprogram-extpar_ahf_to_buffer" title="Permanent link">&para;</a></h3>
<p>The executable <em>extpar_ahf_to_buffer</em> allows the aggregation or
interpolation of data on the anthropogenic heat flux needed by
TERRA_URB to the target grid.</p>
<p>For the aggregation of the AHF the namelist <code>namelist.py</code> is simple
again. It contains the type of AHF (2.5min (1) or 30sec (2)) the path
and the filenames of the raw data sets, as well as the names of the
buffer. No other parameters can be set. Note that the underlying
processing does not differ between different types of AHF</p>
<p>The remapping to the target grid uses the <em>bilinear</em> interpolation. No
other processing steps take place.</p>
<h3 id="used-namelist-files-and-data-in-output_6">Used namelist files and data in-/output:<a class="headerlink" href="#used-namelist-files-and-data-in-output_6" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>namelists files: namelist.py (dict: input_ahf), INPUT_grid_org,
    INPUT_COSMO_GRID,
    INPUT_ICON_GRID</p>
</li>
<li>
<p>generate namelist: INPUT_AHF</p>
</li>
<li>
<p>data input: AHF_2006_2.5min_lonlat.nc
    (ahf_type=1),AHF_2006_NOAA_30sec_lonlat.nc (ahf_type=2)</p>
</li>
<li>
<p>Output: buffer file with AHF data (input_ahf: ahf_buffer_file)</p>
</li>
</ul>
<h2 id="extpar_edgar_to_buffer">extpar_edgar_to_buffer<a class="headerlink" href="#extpar_edgar_to_buffer" title="Permanent link">&para;</a></h2>
<h3 id="short-description-of-the-subprogram-extpar_edgar_to_buffer">Short description of the subprogram <em>extpar_edgar_to_buffer</em><a class="headerlink" href="#short-description-of-the-subprogram-extpar_edgar_to_buffer" title="Permanent link">&para;</a></h3>
<p>The executable <em>extpar_edgar_to_buffer</em> allows the interpolation of
global emission data for black carbon, organic carbon and sulfur dioxide
needed for the 2D-Aerosol in ICON to the target grid.</p>
<p>The namelist contains only the path to the raw data, the raw data file
names and the name of the buffer file.</p>
<p>The remapping to the target grid uses the <em>first order conservative</em>
interpolation. No other processing steps take place.</p>
<h3 id="used-namelist-files-and-data-in-output_7">Used namelist files and data in-/output:<a class="headerlink" href="#used-namelist-files-and-data-in-output_7" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>namelists files: namelist.py (dict: input_edgar), INPUT_grid_org,
    INPUT_ICON_GRID</p>
</li>
<li>
<p>generate namelist: INPUT_edgar</p>
</li>
<li>
<p>data input: v8.1_FT2022_AP_NH3_2022_TOTALS_flx.nc,
    v8.1_FT2022_AP_OC_2022_TOTALS_flx.nc,
    v8.1_FT2022_AP_BC_2022_TOTALS_flx.nc,
    v8.1_FT2022_AP_NOx_2022_TOTALS_flx.nc,
    v8.1_FT2022_AP_SO2_2022_TOTALS_flx.nc</p>
</li>
<li>
<p>Output: buffer file with EDGAR data (input_edgar:
    edgar_buffer_file)</p>
</li>
</ul>
<h2 id="extpar_cdnc_to_buffer">extpar_cdnc_to_buffer<a class="headerlink" href="#extpar_cdnc_to_buffer" title="Permanent link">&para;</a></h2>
<h3 id="short-description-of-the-subprogram-extpar_cdnc_to_buffer">Short description of the subprogram <em>extpar_cdnc_to_buffer</em><a class="headerlink" href="#short-description-of-the-subprogram-extpar_cdnc_to_buffer" title="Permanent link">&para;</a></h3>
<p>The executable <em>extpar_cdnc_to_buffer</em> allows the interpolation of
climatology data for cloud droplet number needed for the Cloud-Aerosol
in ICON to the target grid.</p>
<p>The namelist contains only the path to the raw data, the raw data file
names and the name of the buffer file.</p>
<p>The remapping to the target grid uses the <em>first order conservative</em>
interpolation. No other processing steps take place.</p>
<h3 id="used-namelist-files-and-data-in-output_8">Used namelist files and data in-/output:<a class="headerlink" href="#used-namelist-files-and-data-in-output_8" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>namelists files: namelist.py (dict: input_cdnc), INPUT_grid_org,
    INPUT_ICON_GRID</p>
</li>
<li>
<p>generate namelist: INPUT_cdnc</p>
</li>
<li>
<p>data input: cdnc_climatology_Q06.nc</p>
</li>
<li>
<p>Output: buffer file with cloud droplet number data (input_cdnc:
    cdnc_buffer_file)</p>
</li>
</ul>
<h2 id="extpar_aot_to_buffer">extpar_aot_to_buffer<a class="headerlink" href="#extpar_aot_to_buffer" title="Permanent link">&para;</a></h2>
<h3 id="short-description-of-the-subprogram-extpar_aot_to_buffer">Short description of the subprogram <em>extpar_aot_to_buffer</em><a class="headerlink" href="#short-description-of-the-subprogram-extpar_aot_to_buffer" title="Permanent link">&para;</a></h3>
<p>The executable <em>extpar_aot_to_buffer</em> aggregates aerosol optical
thickness data for 5 aerosol types (black carbon, dust, organic,
sulfate, and sea salt) to the target grid. Note that the raw data
stores each aerosol type in its own variable, while the buffer file
stores the remapped data in a single 5D variable.</p>
<p>For the aggregation of the AOT the namelist <code>namelist.py</code> is simple
again. It contains only the path and the name of the raw aerosol optical
depth data. The integer switch (<em>iaot_type</em>) informs EXTPAR which of the
2 available datasets has been chosen: 1 (Tegen), 2 (AeroCom). Additionally,
also the filenames of the buffer and output files for the aggregated data
is specified. Note that the underlying processing does not differ between
different types of AOT.</p>
<p>The remapping to the target grid uses the <em>bilinear</em> interpolation. No
other processing steps take place.</p>
<p><center>
<a name="tab:aerosol"></a></p>
<table>
<thead>
<tr>
<th><strong>Raw data set</strong></th>
<th><strong>resolution</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Tegen</td>
<td>4 x 5 degree</td>
</tr>
<tr>
<td>AeroCom</td>
<td>1 x 1 degree</td>
</tr>
</tbody>
</table>
<p><em>Table 8: Resolution of raw data-sets for aerosol optical depths.</em>
</center></p>
<h3 id="used-namelist-files-and-data-in-output_9">Used namelist files and data in-/output:<a class="headerlink" href="#used-namelist-files-and-data-in-output_9" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>namelists files: namelist.py (dict: input_aot), INPUT_grid_org,
    INPUT_COSMO_GRID, INPUT_ICON_GRID</p>
</li>
<li>
<p>generate namelist: INPUT_AOT</p>
</li>
<li>
<p>data input: aot_GACP.nc( iaot_type=1),
    aod_AeroCom1.nc (iaot_type=2)</p>
</li>
<li>
<p>Output: buffer file with ISA data (input_aot: aot_buffer_file)</p>
</li>
</ul>
<h2 id="extpar_art_to_buffer">extpar_art_to_buffer<a class="headerlink" href="#extpar_art_to_buffer" title="Permanent link">&para;</a></h2>
<h3 id="short-description">Short description<a class="headerlink" href="#short-description" title="Permanent link">&para;</a></h3>
<p>This program processes HWSD (Harmonized World Soil Database) data and
aggregates it onto a target grid. The HWSD dataset contains soil unit 
information classified according to the USDA soil classification system.</p>
<p>This program consists of 2 main parts. In the first part, the nearest
target grid element for each raw data pixel is found using the "get_neighbor_index" 
function. Since this is compute intensive, this computation is distributed using 
joblib and creating memory-mapped arrays for soil types and neighbor indices arrays.</p>
<p>In the second part, "calculate_soil_fraction" function calculates the fraction of 
soil types by iterating over the target grid to calculate the fraction of each soil 
type in each grid element. It divides the count of each soil type by the total number of
raw data pixels in the grid element and stores the fractions in the corresponding variables. 
As this function is also very expensive, the computation is distributed over multiples threads, 
performing soil type fraction computation in parallel for different soil types. This computation 
can be accelerated by increasing the memory and number of processes used in this fuction.</p>
<p>The code aggregates the HWSD soil data in USDA scheme to a target grid,
calculating the fraction of each soil type in each grid element for
application in ICON-ART simulations.</p>
<h3 id="used-namelist-files-and-data-in-output_10">Used namelist files and data in-/output<a class="headerlink" href="#used-namelist-files-and-data-in-output_10" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>namelists files: INPUT_grid_org, INPUT_ICON_GRID, namelist.py</p>
</li>
<li>
<p>data input: HWSD0_USDA.nc</p>
</li>
<li>
<p>Output: buffer file with fraction of soil type classes
    (art_buffer_file)</p>
</li>
</ul>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p><a href="https://svn-ccsm-inputdata.cgd.ucar.edu/trunk/inputdata/lnd/clm2/rawdata/mksrf_soilcol.081008.nc" target="_blank">https://svn-ccsm-inputdata.cgd.ucar.edu/trunk/inputdata/lnd/clm2/rawdata/mksrf_soilcol.081008.nc <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3m-2 16H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7h-2z"/></svg></span></a></p>
<p>Lawrence, P. J. and T. N. Chase (2007). "Representing a new MODIS
consistent land surface in the Community Land Model (CLM 3.0)."
Journal of Geophysical Research-Biogeosciences 112(G1).\
Table 3.3 in: Oleson, K.W., D.M. Lawrence, G.B. Bonan, M.G. Flanner,
E. Kluzek, P.J. Lawrence, S. Levis, S.C. Swenson, P.E. Thornton, A.
Dai, M. Decker, R. Dickinson, J. Feddema, C.L. Heald, F. Hoffman,
J.-F. Lamarque, N. Mahowald, G.-Y. Niu, T. Qian, J. Randerson, S.
Running, K. Sakaguchi, A. Slater, R. Stockli, A. Wang, Z.-L. Yang,
Xi. Zeng, and Xu. Zeng, 2010: Technical Description of version 4.0
of the Community Land Model (CLM). NCAR Technical Note
NCAR/TN-478+STR, National Center for Atmospheric Research, Boulder,
CO, 257 pp.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="April 7, 2025 09:38:05">April 7, 2025</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="April 7, 2025 09:38:05">April 7, 2025</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.action.edit", "content.code.annotate", "content.code.copy", "content.tabs.link", "content.tooltips", "mermaid2", "navigation.bottom", "navigation.indexes", "navigation.instant", "navigation.path", "navigation.sticky", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "search", "search.share", "search.suggest"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>